version: '3.4'

services:
  epl.identityserver:
    image: ${DOCKER_REGISTRY}eplidentityserver
    container_name: epl-identityserver
    build:
      context: .
      dockerfile: epl.IdentityServer/Dockerfile
    networks:
      - epl-network

  epl.api:
    image: ${DOCKER_REGISTRY}eplapi
    container_name: epl-api
    build:
      context: .
      dockerfile: epl.api/Dockerfile
    depends_on:
      - epl.identityserver
    networks:
      - epl-network

  epl.ui:
    image: ${DOCKER_REGISTRY}eplui
    container_name: epl-ui
    build:
      context: .
      dockerfile: epl.ui/Dockerfile
    depends_on:
      - epl.identityserver
    networks:
      - epl-network

networks:
  epl-network: